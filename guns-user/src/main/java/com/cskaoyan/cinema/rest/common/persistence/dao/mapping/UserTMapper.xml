<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cskaoyan.cinema.rest.common.persistence.dao.UserTMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap"
               type="com.cskaoyan.cinema.rest.common.persistence.model.UserT">
        <id column="UUID" property="uuid"/>
        <result column="user_name" property="userName"/>
        <result column="user_pwd" property="userPwd"/>
        <result column="nick_name" property="nickName"/>
        <result column="user_sex" property="userSex"/>
        <result column="birthday" property="birthday"/>
        <result column="email" property="email"/>
        <result column="user_phone" property="userPhone"/>
        <result column="address" property="address"/>
        <result column="head_url" property="headUrl"/>
        <result column="biography" property="biography"/>
        <result column="life_state" property="lifeState"/>
        <result column="begin_time" property="beginTime"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>

    <update id="updateUserInfo">
        update mtime_user_t set
        nick_name=#{user.nickname},
        email = #{user.email},
        user_phone = #{user.phone},
        user_sex = #{user.sex},
        birthday=#{user.birthday},
        life_state=#{user.lifeState},
        biography=#{user.biography},
        address =#{user.address},
        head_url = #{user.headAddress}
        where UUID = #{user.uuid}
    </update>

    <select id="selectUserInfoById" resultType="com.cskaoyan.cinema.vo.user.UserVo">
        select user_name as username,
        nick_name as nickname ,
        user_sex as sex,
        birthday,
        email,user_phone as phone,
        address,head_url as headAddress,
        biography,life_state as lifeState,
        begin_time as beginTime,
        update_time as updateTime
        from mtime_user_t
        where UUID =#{uuid}

    </select>
</mapper>
